<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>shiftlefter.browser.chrome documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">ShiftLefter</span> <span class="project-version">0.3.6-SNAPSHOT</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>shiftlefter</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>adapters</span></div></div></li><li class="depth-3 branch"><a href="shiftlefter.adapters.etaoin.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>etaoin</span></div></a></li><li class="depth-3"><a href="shiftlefter.adapters.registry.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>registry</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>browser</span></div></div></li><li class="depth-3 branch current"><a href="shiftlefter.browser.chrome.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>chrome</span></div></a></li><li class="depth-3 branch"><a href="shiftlefter.browser.ctx.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ctx</span></div></a></li><li class="depth-3 branch"><a href="shiftlefter.browser.locators.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>locators</span></div></a></li><li class="depth-3"><a href="shiftlefter.browser.protocol.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>protocol</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree" style="top: -145px;"><span class="top" style="height: 154px;"></span><span class="bottom"></span></span><span>capabilities</span></div></div></li><li class="depth-3"><a href="shiftlefter.capabilities.ctx.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ctx</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>config</span></div></div></li><li class="depth-3"><a href="shiftlefter.config.user.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>user</span></div></a></li><li class="depth-2 branch"><a href="shiftlefter.core.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>gherkin</span></div></div></li><li class="depth-3 branch"><a href="shiftlefter.gherkin.api.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>api</span></div></a></li><li class="depth-3 branch"><a href="shiftlefter.gherkin.compliance.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>compliance</span></div></a></li><li class="depth-3 branch"><a href="shiftlefter.gherkin.ddmin.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ddmin</span></div></a></li><li class="depth-3 branch"><a href="shiftlefter.gherkin.diagnostics.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>diagnostics</span></div></a></li><li class="depth-3 branch"><a href="shiftlefter.gherkin.dialect.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dialect</span></div></a></li><li class="depth-3 branch"><a href="shiftlefter.gherkin.fuzz.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fuzz</span></div></a></li><li class="depth-3 branch"><a href="shiftlefter.gherkin.io.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>io</span></div></a></li><li class="depth-3 branch"><a href="shiftlefter.gherkin.lexer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>lexer</span></div></a></li><li class="depth-3 branch"><a href="shiftlefter.gherkin.location.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>location</span></div></a></li><li class="depth-3 branch"><a href="shiftlefter.gherkin.parser.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>parser</span></div></a></li><li class="depth-3 branch"><a href="shiftlefter.gherkin.pickler.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>pickler</span></div></a></li><li class="depth-3 branch"><a href="shiftlefter.gherkin.printer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>printer</span></div></a></li><li class="depth-3 branch"><a href="shiftlefter.gherkin.tokens.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>tokens</span></div></a></li><li class="depth-3"><a href="shiftlefter.gherkin.verify.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>verify</span></div></a></li><li class="depth-2 branch"><a href="shiftlefter.repl.html"><div class="inner"><span class="tree" style="top: -455px;"><span class="top" style="height: 464px;"></span><span class="bottom"></span></span><span>repl</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>runner</span></div></div></li><li class="depth-3 branch"><a href="shiftlefter.runner.config.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>config</span></div></a></li><li class="depth-3 branch"><a href="shiftlefter.runner.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-3 branch"><a href="shiftlefter.runner.discover.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>discover</span></div></a></li><li class="depth-3 branch"><a href="shiftlefter.runner.events.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>events</span></div></a></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>report</span></div></div></li><li class="depth-4 branch"><a href="shiftlefter.runner.report.console.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>console</span></div></a></li><li class="depth-4"><a href="shiftlefter.runner.report.edn.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>edn</span></div></a></li><li class="depth-3"><a href="shiftlefter.runner.step-loader.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>step-loader</span></div></a></li><li class="depth-2 branch"><a href="shiftlefter.step.html"><div class="inner"><span class="tree" style="top: -269px;"><span class="top" style="height: 278px;"></span><span class="bottom"></span></span><span>step</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>stepdefs</span></div></div></li><li class="depth-3"><a href="shiftlefter.stepdefs.browser.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>browser</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>stepengine</span></div></div></li><li class="depth-3 branch"><a href="shiftlefter.stepengine.bind.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>bind</span></div></a></li><li class="depth-3 branch"><a href="shiftlefter.stepengine.compile.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>compile</span></div></a></li><li class="depth-3 branch"><a href="shiftlefter.stepengine.exec.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>exec</span></div></a></li><li class="depth-3"><a href="shiftlefter.stepengine.macros.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>macros</span></div></a></li><li class="depth-4"><a href="shiftlefter.stepengine.macros.ini.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ini</span></div></a></li><li class="depth-3"><a href="shiftlefter.stepengine.registry.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>registry</span></div></a></li><li class="depth-2"><a href="shiftlefter.subjects.html"><div class="inner"><span class="tree" style="top: -207px;"><span class="top" style="height: 216px;"></span><span class="bottom"></span></span><span>subjects</span></div></a></li><li class="depth-3 branch"><a href="shiftlefter.subjects.browser.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>browser</span></div></a></li><li class="depth-3"><a href="shiftlefter.subjects.profile.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>profile</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>svo</span></div></div></li><li class="depth-3 branch"><a href="shiftlefter.svo.extract.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>extract</span></div></a></li><li class="depth-3 branch"><a href="shiftlefter.svo.glossary.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>glossary</span></div></a></li><li class="depth-3"><a href="shiftlefter.svo.validate.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>validate</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree" style="top: -114px;"><span class="top" style="height: 123px;"></span><span class="bottom"></span></span><span>webdriver</span></div></div></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>etaoin</span></div></div></li><li class="depth-4 branch"><a href="shiftlefter.webdriver.etaoin.browser.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>browser</span></div></a></li><li class="depth-4"><a href="shiftlefter.webdriver.etaoin.session.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>session</span></div></a></li><li class="depth-3"><a href="shiftlefter.webdriver.session-store.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>session-store</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="shiftlefter.browser.chrome.html#var-allocate-port"><div class="inner"><span>allocate-port</span></div></a></li><li class="depth-1"><a href="shiftlefter.browser.chrome.html#var-binary-exists.3F"><div class="inner"><span>binary-exists?</span></div></a></li><li class="depth-1"><a href="shiftlefter.browser.chrome.html#var-build-chrome-args"><div class="inner"><span>build-chrome-args</span></div></a></li><li class="depth-1"><a href="shiftlefter.browser.chrome.html#var-create-window.21"><div class="inner"><span>create-window!</span></div></a></li><li class="depth-1"><a href="shiftlefter.browser.chrome.html#var-ensure-window.21"><div class="inner"><span>ensure-window!</span></div></a></li><li class="depth-1"><a href="shiftlefter.browser.chrome.html#var-find-binary"><div class="inner"><span>find-binary</span></div></a></li><li class="depth-1"><a href="shiftlefter.browser.chrome.html#var-kill-by-pid.21"><div class="inner"><span>kill-by-pid!</span></div></a></li><li class="depth-1"><a href="shiftlefter.browser.chrome.html#var-launch.21"><div class="inner"><span>launch!</span></div></a></li><li class="depth-1"><a href="shiftlefter.browser.chrome.html#var-list-targets"><div class="inner"><span>list-targets</span></div></a></li><li class="depth-1"><a href="shiftlefter.browser.chrome.html#var-probe-cdp"><div class="inner"><span>probe-cdp</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">shiftlefter.browser.chrome</h1><div class="doc"><div class="markdown"><p>Chrome binary discovery and lifecycle helpers.</p>
<p>This namespace provides Chrome-specific operations for the persistent browser mode introduced in STARLINKHORSE (0.2.6).</p>
<h2><a href="#chrome-binary-discovery" id="chrome-binary-discovery"></a>Chrome Binary Discovery</h2>
<p><code>find-binary</code> locates the Chrome executable with the following precedence: 1. Config override: <code>{:chrome-path "/custom/path"}</code> 2. OS-specific defaults: - macOS: <code>/Applications/Google Chrome.app/Contents/MacOS/Google Chrome</code> - Linux: search PATH for <code>google-chrome</code>, <code>google-chrome-stable</code>, <code>chromium</code></p>
<h2><a href="#cdp-endpoint-probe" id="cdp-endpoint-probe"></a>CDP Endpoint Probe</h2>
<p><code>probe-cdp</code> checks if Chrome is alive by hitting its CDP endpoint: <code>http://127.0.0.1:&lt;port&gt;/json/version</code></p>
<h2><a href="#chrome-launcher" id="chrome-launcher"></a>Chrome Launcher</h2>
<p><code>launch!</code> spawns Chrome with debug port and user-data-dir, waits for CDP ready.</p>
<h2><a href="#process-management" id="process-management"></a>Process Management</h2>
<p><code>kill-by-pid!</code> terminates a Chrome process by PID.</p>
<h2><a href="#error-types" id="error-types"></a>Error Types</h2>
<ul>
<li><code>:persistent/chrome-not-found</code> — Chrome binary not found at expected path</li>
<li><code>:persistent/os-not-supported</code> — OS not yet supported (Windows)</li>
<li><code>:persistent/chrome-launch-failed</code> — Chrome process failed to start</li>
<li><code>:persistent/cdp-not-ready</code> — CDP endpoint didn’t come up in time</li>
<li><code>:persistent/no-port-available</code> — No available port found in search range</li>
</ul>
</div></div><div class="public anchor" id="var-allocate-port"><h3>allocate-port</h3><div class="usage"><code>(allocate-port)</code><code>(allocate-port {:keys [start-port max-range], :or {start-port default-start-port, max-range max-port-search-range}})</code></div><div class="doc"><div class="markdown"><p>Find an available debug port for Chrome.</p>
<p>Probes ports starting from <code>:start-port</code> (default 9222) until finding one that doesn’t respond to CDP probe (i.e., not in use by Chrome).</p>
<p>Options: - <code>:start-port</code> — first port to try (default: 9222) - <code>:max-range</code> — maximum ports to try (default: 100)</p>
<p>Returns: - Success: port number (integer) - Error: <code>{:errors [{:type :persistent/no-port-available ...}]}</code></p>
<p>Examples:</p>
<pre><code class="language-clojure">;; Nothing running on 9222
(allocate-port)
;; =&gt; 9222

;; 9222 in use by another Chrome
(allocate-port)
;; =&gt; 9223

;; Custom start port
(allocate-port {:start-port 9300})
;; =&gt; 9300
</code></pre>
</div></div><div class="src-link"><a href="https://github.com/SHIFT-LEFTER/shiftlefter/blob/v0.3.6-SNAPSHOT/src/shiftlefter/browser/chrome.clj#L548">view source</a></div></div><div class="public anchor" id="var-binary-exists.3F"><h3>binary-exists?</h3><div class="usage"><code>(binary-exists? path)</code></div><div class="doc"><div class="markdown"><p>Check if a Chrome binary path exists and is executable. Returns true/false.</p>
</div></div><div class="src-link"><a href="https://github.com/SHIFT-LEFTER/shiftlefter/blob/v0.3.6-SNAPSHOT/src/shiftlefter/browser/chrome.clj#L161">view source</a></div></div><div class="public anchor" id="var-build-chrome-args"><h3>build-chrome-args</h3><div class="usage"><code>(build-chrome-args {:keys [port user-data-dir stealth]})</code></div><div class="doc"><div class="markdown"><p>Build Chrome command line arguments.</p>
<p>Required: - :port — debug port - :user-data-dir — profile directory path</p>
<p>Optional: - :stealth — if true, add anti-detection flags</p>
<p>Returns a vector of argument strings.</p>
</div></div><div class="src-link"><a href="https://github.com/SHIFT-LEFTER/shiftlefter/blob/v0.3.6-SNAPSHOT/src/shiftlefter/browser/chrome.clj#L356">view source</a></div></div><div class="public anchor" id="var-create-window.21"><h3>create-window!</h3><div class="usage"><code>(create-window! port)</code></div><div class="doc"><div class="markdown"><p>Create a new window/tab in Chrome via CDP.</p>
<p>Opens about:blank in a new target.</p>
<p>Returns: - Success: <code>{:target {...}}</code> with the new target info - Error: <code>{:error ...}</code></p>
</div></div><div class="src-link"><a href="https://github.com/SHIFT-LEFTER/shiftlefter/blob/v0.3.6-SNAPSHOT/src/shiftlefter/browser/chrome.clj#L283">view source</a></div></div><div class="public anchor" id="var-ensure-window.21"><h3>ensure-window!</h3><div class="usage"><code>(ensure-window! port)</code></div><div class="doc"><div class="markdown"><p>Ensure Chrome has at least one window/tab.</p>
<p>Checks /json/list, and if empty, creates a new window via /json/new.</p>
<p>Returns: - Success: <code>{:status :ok}</code> or <code>{:status :created}</code> - Error: <code>{:error ...}</code></p>
</div></div><div class="src-link"><a href="https://github.com/SHIFT-LEFTER/shiftlefter/blob/v0.3.6-SNAPSHOT/src/shiftlefter/browser/chrome.clj#L310">view source</a></div></div><div class="public anchor" id="var-find-binary"><h3>find-binary</h3><div class="usage"><code>(find-binary)</code><code>(find-binary opts)</code></div><div class="doc"><div class="markdown"><p>Find the Chrome executable path.</p>
<p>Checks for Chrome in the following order: 1. Config override (if <code>:chrome-path</code> provided in opts) 2. OS-specific default locations</p>
<p>Options: - <code>:chrome-path</code> — explicit path to Chrome binary (skips OS detection)</p>
<p>Returns: - Success: path string (e.g., “/Applications/Google Chrome.app/…/Google Chrome”) - Error: <code>{:errors [{:type :persistent/chrome-not-found ...}]}</code> or <code>{:errors [{:type :persistent/os-not-supported ...}]}</code></p>
<p>Examples:</p>
<pre><code class="language-clojure">;; Use OS defaults
(find-binary)
;; =&gt; "/Applications/Google Chrome.app/Contents/MacOS/Google Chrome"

;; With config override
(find-binary {:chrome-path "/custom/path/chrome"})
;; =&gt; "/custom/path/chrome"

;; When not found
(find-binary {:chrome-path "/nonexistent"})
;; =&gt; {:errors [{:type :persistent/chrome-not-found ...}]}
</code></pre>
</div></div><div class="src-link"><a href="https://github.com/SHIFT-LEFTER/shiftlefter/blob/v0.3.6-SNAPSHOT/src/shiftlefter/browser/chrome.clj#L105">view source</a></div></div><div class="public anchor" id="var-kill-by-pid.21"><h3>kill-by-pid!</h3><div class="usage"><code>(kill-by-pid! pid)</code></div><div class="doc"><div class="markdown"><p>Kill a Chrome process by PID and wait for it to exit.</p>
<p>Uses <code>kill -TERM</code> for graceful shutdown, falls back to <code>kill -KILL</code> if needed. Waits up to 2 seconds for the process to actually terminate.</p>
<p>Returns: - Success: <code>{:killed true :pid &lt;pid&gt;}</code> - Not running: <code>{:killed false :pid &lt;pid&gt; :reason :not-running}</code> - Error: <code>{:killed false :pid &lt;pid&gt; :reason :error :message "..."}</code></p>
<p>Examples:</p>
<pre><code class="language-clojure">(kill-by-pid! 12345)
;; =&gt; {:killed true :pid 12345}
</code></pre>
</div></div><div class="src-link"><a href="https://github.com/SHIFT-LEFTER/shiftlefter/blob/v0.3.6-SNAPSHOT/src/shiftlefter/browser/chrome.clj#L488">view source</a></div></div><div class="public anchor" id="var-launch.21"><h3>launch!</h3><div class="usage"><code>(launch! {:keys [port user-data-dir chrome-path stealth cdp-timeout-ms], :or {cdp-timeout-ms default-cdp-ready-timeout-ms}})</code></div><div class="doc"><div class="markdown"><p>Launch Chrome with debug port and user-data-dir.</p>
<p>Spawns a Chrome process with the specified configuration and waits for the CDP endpoint to become ready.</p>
<p>Required options: - <code>:port</code> — debug port (e.g., 9222) - <code>:user-data-dir</code> — path to Chrome profile directory</p>
<p>Optional: - <code>:chrome-path</code> — explicit path to Chrome binary (default: auto-detect) - <code>:stealth</code> — if true, add anti-detection flags (default: false) - <code>:cdp-timeout-ms</code> — timeout waiting for CDP ready (default: 10000)</p>
<p>Returns: - Success: <code>{:pid &lt;long&gt; :port &lt;int&gt; :process &lt;Process&gt;}</code> - Error: <code>{:errors [{:type :persistent/... ...}]}</code></p>
<p>Examples:</p>
<pre><code class="language-clojure">(launch! {:port 9222
          :user-data-dir "/tmp/test-profile"
          :stealth true})
;; =&gt; {:pid 12345 :port 9222 :process #object[Process ...]}

;; CDP endpoint is now reachable
(probe-cdp 9222)
;; =&gt; {:status :alive ...}
</code></pre>
</div></div><div class="src-link"><a href="https://github.com/SHIFT-LEFTER/shiftlefter/blob/v0.3.6-SNAPSHOT/src/shiftlefter/browser/chrome.clj#L400">view source</a></div></div><div class="public anchor" id="var-list-targets"><h3>list-targets</h3><div class="usage"><code>(list-targets port)</code></div><div class="doc"><div class="markdown"><p>List all targets (windows/tabs) in Chrome.</p>
<p>Returns: - Success: <code>{:targets [...]}</code> where targets is a vector of target maps - Error: <code>{:error ...}</code></p>
</div></div><div class="src-link"><a href="https://github.com/SHIFT-LEFTER/shiftlefter/blob/v0.3.6-SNAPSHOT/src/shiftlefter/browser/chrome.clj#L258">view source</a></div></div><div class="public anchor" id="var-probe-cdp"><h3>probe-cdp</h3><div class="usage"><code>(probe-cdp port)</code><code>(probe-cdp port opts)</code></div><div class="doc"><div class="markdown"><p>Check if Chrome is alive by probing its CDP endpoint.</p>
<p>Makes an HTTP GET request to <code>http://127.0.0.1:&lt;port&gt;/json/version</code>.</p>
<p>Options: - <code>:timeout-ms</code> — connection/read timeout in milliseconds (default: 1000)</p>
<p>Returns: - Chrome alive: <code>{:status :alive :version {...}}</code> where version contains Chrome’s CDP response (Browser, Protocol-Version, etc.) - Chrome dead/not responding: <code>{:status :dead}</code></p>
<p>Examples:</p>
<pre><code class="language-clojure">;; Chrome running with debug port 9222
(probe-cdp 9222)
;; =&gt; {:status :alive
;;     :version {:Browser "Chrome/120.0.6099.129"
;;               :Protocol-Version "1.3"
;;               :User-Agent "..."
;;               :V8-Version "..."
;;               :WebKit-Version "..."
;;               :webSocketDebuggerUrl "ws://..."}}

;; Nothing on port 9222
(probe-cdp 9222)
;; =&gt; {:status :dead}

;; With custom timeout
(probe-cdp 9222 {:timeout-ms 500})
</code></pre>
</div></div><div class="src-link"><a href="https://github.com/SHIFT-LEFTER/shiftlefter/blob/v0.3.6-SNAPSHOT/src/shiftlefter/browser/chrome.clj#L182">view source</a></div></div></div></body></html>